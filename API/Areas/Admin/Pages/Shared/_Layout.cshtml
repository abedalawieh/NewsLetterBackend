<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Newsletter Admin</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sidebar-bg: #1e293b;
            --main-bg: #0f172a;
            --accent: #6366f1;
            --card-bg: #1e293b;
            --text: #f1f5f9;
        }
        body { font-family: 'Inter', sans-serif; background: var(--main-bg); color: var(--text); overflow-x: hidden; }
        .sidebar { height: 100vh; background: var(--sidebar-bg); border-right: 1px solid rgba(255,255,255,0.05); position: fixed; width: 260px; z-index: 1000; }
        .main-content { margin-left: 260px; min-height: 100vh; padding: 2rem; }
        .nav-link { color: #94a3b8; padding: 0.8rem 1.5rem; display: flex; align-items: center; border-radius: 0.5rem; margin: 0.2rem 1rem; transition: all 0.3s; }
        .nav-link:hover { color: var(--text); background: rgba(255,255,255,0.05); }
        .nav-link.active { background: var(--accent); color: white; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .nav-link i { width: 24px; margin-right: 12px; font-size: 1.1rem; }
        .card { background: var(--card-bg); border: 1px solid rgba(255,255,255,0.05); border-radius: 1rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .stat-card { padding: 1.5rem; }
        .table { color: #cbd5e1; vertical-align: middle; background-color: transparent !important; }
        .table thead th { background: rgba(15, 23, 42, 0.4); border-bottom: none; color: #94a3b8; font-weight: 600; text-transform: uppercase; font-size: 0.75rem; letter-spacing: 0.05em; padding: 1.2rem 1rem; }
        .table tbody td { border-bottom: 1px solid rgba(255,255,255,0.05); padding: 1.2rem 1rem; background-color: transparent !important; color: #cbd5e1 !important; }

        .btn-primary { background: var(--accent); border: none; padding: 0.6rem 1.2rem; border-radius: 0.5rem; font-weight: 500; }
        .badge { padding: 0.5rem 0.8rem; border-radius: 0.4rem; font-weight: 500; }
    </style>
</head>
<body>
    @if (User.Identity.IsAuthenticated)
    {
        <aside class="sidebar">
            <div class="p-4 mb-4">
                <h4 class="text-white d-flex align-items-center fw-bold">
                    <i class="fas fa-paper-plane me-3 text-indigo-400"></i>Newsletter
                </h4>
            </div>
            <nav class="nav flex-column mt-2">
                <a class="nav-link @(ViewContext.RouteData.Values["page"].ToString().Contains("/Dashboard") ? "active" : "")" asp-area="Admin" asp-page="/Dashboard">
                    <i class="fas fa-th-large"></i> Dashboard
                </a>
                <a class="nav-link @(ViewContext.RouteData.Values["page"].ToString().Contains("/Subscribers") ? "active" : "")" asp-area="Admin" asp-page="/Subscribers/Index">
                    <i class="fas fa-users"></i> Subscribers
                </a>
                <a class="nav-link @(ViewContext.RouteData.Values["page"].ToString().Contains("/Metadata") ? "active" : "")" asp-area="Admin" asp-page="/Metadata/Index">
                    <i class="fas fa-tags"></i> Metadata
                </a>
                <a class="nav-link @(ViewContext.RouteData.Values["page"].ToString().Contains("/Admins") ? "active" : "")" asp-area="Admin" asp-page="/Admins/Index">
                    <i class="fas fa-shield-alt"></i> Administrators
                </a>
                <a class="nav-link @(ViewContext.RouteData.Values["page"].ToString().Contains("/Newsletters") ? "active" : "")" asp-area="Admin" asp-page="/Newsletters/Index">
                    <i class="fas fa-envelopes-bulk"></i> Campaigns
                </a>
                <a class="nav-link @(ViewContext.RouteData.Values["page"].ToString().Contains("/Deleted") ? "active" : "")" asp-area="Admin" asp-page="/Deleted/Index">
                    <i class="fas fa-trash-restore"></i> Deleted Items
                </a>
            </nav>
            <div style="position:absolute; bottom:20px; width:100%">
                <hr class="mx-4 opacity-10" />
                <a class="nav-link text-warning" asp-area="Admin" asp-page="/Account/Logout">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>

            </div>
        </aside>
    }

    <main class="@(User.Identity.IsAuthenticated ? "main-content" : "")">
        @RenderBody()
    </main>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
